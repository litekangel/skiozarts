<template name="HeaderTemplate">
    <style>

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        ul.liste {
            list-style: none;
            font-family: Karla, sans-serif;
            font-size:2.5rem;
        }
        ul.liste.socials {
            font-size:2rem;
        }
        ul.liste>li {
            margin:1rem;
        }

        button.bouton {
            border: none;
            background: transparent;
            outline: none;
            cursor: pointer;
            font-size:4.5rem !important;
        }


        button.bouton:active {
            color: #fff;
        }

        ul.liste a {
            text-decoration: none;
            color: #fff;
        }
        .socials a {
            color:#fff !important;
        }
        ul.liste a:hover {
            color: #333;
            text-transform:none;
        }

        /* .menu-wrapper
        –––––––––––––––––––––––––––––––––––––––––––––––––– */
        .top-nav .menu-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 350px;
            padding: 20px;
            transform: translateX(-250px);
            transition: transform .7s;
            background-image: linear-gradient(to right, rgba(214,33,44,0.75), rgba(228,56,144,0.75));
            /*background: #B1FFE5;*/

        }

        .top-nav .menu-wrapper.is-opened {
            z-index:1000000;
            transform: translateX(105px);
        }

        .top-nav .menu-wrapper .menu {
            opacity: 0;
            transition: opacity .4s;
        }

        .top-nav .menu-wrapper.is-opened .menu {
            opacity: 1;
            transition-delay: .6s;
        }

        .top-nav .menu-wrapper .menu a {
            font-size: 1.2rem;
        }

        .top-nav .menu-wrapper .sub-menu {
            padding: 10px 0 0 7px;
        }

        .top-nav .menu-wrapper .menu-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.6rem;
        }


        /* .fixed menu
        –––––––––––––––––––––––––––––––––––––––––––––––––– */

        .top-nav .fixed-menu {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            display: flex;
            flex-direction: column;
            z-index:10000;
            width: 105px;
            padding: 20px;
            background: #000;
            color:#fff;
        }

        .top-nav .fixed-menu .menu-open {
            font-size: 1.8rem;
            text-align: left;
            margin: 30px 0 auto;
            width: 28px;
        }




    </style>

    <nav class="top-nav">
        <div class="menu-wrapper">
            <ul class="liste">
                <li><a href="/">Accueil</a></li>
                <li><a href="/event">L'évènement</a>
                    <ul class="liste sub-menu">
                        <li><a href="/station">— L'histoire</a></li>
                        <li><a href="/station">— Notre offre</a></li>

                    </ul></li>
                <li><a href="/station">La Station</a>
                    <ul class="liste sub-menu">
                        <li><a href="/station">— Valmeinier</a></li>
                        <li><a href="/station">— Les activités</a></li>

                    </ul></li>
                <li><a href="/equipe">L'équipe</a></li>
                {{#if isInRole 'admin' }}
                    <li><a href="/admin">Administration</a></li>
                {{/if}}
                {{#if currentUser }}
                    <li><a href="/dashboard">Dashboard</a></li>
                    <li><a href="#" id="userLogout">Logout</a></li>

                {{else}}
                    <li><a href="#" data-toggle="modal" data-target="#logModal">Connexion</a></li>
                    <li><a href="#" class="gadzAuth">Connexion Gadz</a></li>
                {{/if}}
            </ul>

            <button class="bouton menu-close" aria-label="close menu">✕</button>
        </div>
        <div class="fixed-menu" style="text-align: center;">
            <a href="/"><img src="/images/blanc.png" alt="LOGO" class="img-fluid"></a>
            <button class="bouton menu-open" aria-label="open menu" style="margin:auto;">
                ☰
            </button>
            <div class="modal fade" id="logModal" tabindex="-1" role="dialog" aria-labelledby="logModalLabel" aria-hidden="true" style="color:black">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Fenêtre de Connexion</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            {{> atForm }}
                        </div>
                    </div>
                </div>
            </div>
            <ul class="liste socials" style="text-align: left">
                <li>
                    <a href="">FB</a>
                </li>
                <li>
                    <a href="">twitter</a>
                </li>
                <li>
                    <a href="">insta</a>
                </li>
            </ul>
        </div>
    </nav>
    <script>
        $(document).ready(function () {
            const menuOpen = document.querySelector(".top-nav .menu-open");
            const menuClose = document.querySelector(".top-nav .menu-close");
            const menuWrapper = document.querySelector(".top-nav .menu-wrapper");
            const topBannerOverlay = document.querySelector(".top-banner-overlay");

            function toggleMenu() {
                menuOpen.addEventListener("click", () => {
                    if(menuWrapper)
                    menuWrapper.classList.add("is-opened");
                    if(topBannerOverlay)
                    topBannerOverlay.classList.add("is-moved");
                });

                menuClose.addEventListener("click", () => {
                    if (menuWrapper)
                    menuWrapper.classList.remove("is-opened");

                    if (topBannerOverlay)
                    topBannerOverlay.classList.remove("is-moved");
                });
            }

            toggleMenu();
        });

    </script>
</template>

